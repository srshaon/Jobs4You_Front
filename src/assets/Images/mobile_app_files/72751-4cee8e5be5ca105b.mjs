(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[72751],{295190:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=n(296882),s=n(773432),r=n(737614),a=n(230457),o=n(674245),l=n(185062),c=n(478718),d=n.n(c),h=n(311866);const u={open(e){const t=d()(e,u._validParams),n=u._getDialogType(e),r=u.generateFbRef(),c=e.object_type&&e.object_id&&"feed"===n;let p=(0,i.Z)(e.path);const g=(0,l.Z)();if(g.ptrf&&(p=(0,s.Z)(p,{ptrf:g.ptrf})),c&&(p=(0,s.Z)(p,{fb_ref:r})),t.method=n,"feed"===t.method){const n=u.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+p;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=p:"share"===t.method&&(t.href=p),(0,o.default)((n=>{n.getLoginStatus((()=>{if("send"===t.method){n.ui(t);let i,s=10;const r=setInterval((()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&s||(clearInterval(r),i&&u.executeMessengerCallback(i,e.callback)),s-=1}),1e3)}else"share"===t.method&&n.ui(t,(t=>{c&&t&&!t.error_message&&h.ZP.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:r}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),a.Z)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval((()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return r.Z.instance.unauth_id+":"+e},_getDialogType:e=>u._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,s=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((s-n)/2)+",top="+(r>i?Math.round((r-i)/2):0)}},p=u},181821:(e,t,n)=>{n.d(t,{Z:()=>i});const i={get(e){const t="gplus";n.e(44232).then(n.bind(n,921539)).then((({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,(()=>{e(window.gapi)}))}))}}},659048:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(295190),s=n(296882),r=n(773432),a=n(447186);const o={};o.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},o.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),a.Z.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};const l=o,c={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){const t=c._getWindowUrl(e.share_path,e.share_text);l.open(t,c.DIALOG_WIDTH,c.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,s.Z)(e):void 0,text:t})},d=c,h={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){const t=h._getWindowUrl(e.share_path,e.share_text);l.open(t,h.DIALOG_WIDTH,h.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://www.reddit.com/submit?url=",{url:e?(0,s.Z)(e):void 0,title:t})},u=h;var p=n(311866);const g={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=g._getWindowUrl(e.tweet_path,e.tweet_text);l.open(t,g.DIALOG_WIDTH,g.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,s.Z)(e):void 0,text:t||void 0})},x=g,m={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,s=null==e.invite_category?3:e.invite_category,r=e.object_id;return p.ZP.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:s,invite_object:n,invite_channel:i},invite_code:t,object_id:r}).callCreate()},createAndLogShareInvite:e=>m.createShareInviteData(e).then((t=>(m._logShareInvite(e,t.invite_code),Promise.resolve(t))),(e=>Promise.reject(e))),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category;if(10===i&&e.path){return p.ZP.create("ShareLinkResource",{invite_category:i,url:e.path}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}{const s=e.object_id;return p.ZP.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:s}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t){t&&m._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>m.createShareInviteData(e).then((t=>{const n=t.invite_url,s=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&m._logShareInvite(e,s)}}),Promise.resolve(t)}),(e=>Promise.reject(e))),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return m.createShareInviteData(e).then((n=>{const i=n.invite_url,s=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),i&&x.openDialog({tweet_path:i,tweet_text:r}),m._logShareInvite(e,s),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareRedditInvite:e=>m.createShareInviteData(e).then((t=>{const n=t.invite_url,i=t.invite_code;return n&&u.openDialog({share_path:n,share_text:e.description}),m._logShareInvite(e,i),Promise.resolve(t)}),(e=>Promise.reject(e))),shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return m.createShareInviteData(e).then((n=>{const i=n.invite_url,s=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),r||(r=n.title),i&&d.openDialog({share_path:i,share_text:r}),m._logShareInvite(e,s),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareFbMessengerInvite:e=>m.createShareInviteData(e).then((t=>{const n=t.invite_url,s=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&m._logShareInvite(e,s)}}),Promise.resolve(t)}),(e=>Promise.reject(e)))},_=m},525974:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(295190),s=n(311866),r=n(627578),a=n(230457),o=n(181821),l=n(282152),c=n(233495),d=n(928940),h=n(641483);function u(){}let p;Object.assign(u.prototype,{optionsForNetwork:{},connect(e,t,i){t=Object.assign({},{success(){},error(){},complete(){}},t),(0,h.My)(`auth_web.social_connect.${e}.${(0,l.Z)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(n,674245)).then((({default:e})=>{e((e=>{e.login((e=>{const n=e.authResponse;let i,s;n&&(i=n.grantedScopes,i=i?i.split(","):[],s=n.userID);const r=i.find((e=>"email"===e)),a={id:s};"connected"===e.status&&r?t.success(a):t.error(a),t.complete()}),{scope:"email",auth_type:"rerequest",return_scopes:!0})}),a.Z)})):"gplus"===e||"google"===e?o.Z.get((e=>{(0,c.Z)().then((()=>{e.auth2.getAuthInstance().grantOfflineAccess().then((e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})})).catch((e=>{t.error(e)}))}))})):Promise.resolve().then(n.bind(n,295190)).then((({default:n})=>{const s=t.windowOptions||n.getWindowOptions(),a=window.open("/connect/"+e+"/","",s);if(!a)return r.Z.showError(i._("You must enable popups!"," - "," -- ")),void t.error({network:e,alertedUpstream:!0});const o=d.Z.setInterval((()=>{a.closed&&(clearInterval(o),this.handleComplete({network:e,error_message:"Window closed."}))}),1e3);this.optionsForNetwork=Object.assign(this.optionsForNetwork,{[e]:t})}))},complete(e){this.handleComplete(e)},handleComplete(e){const t=e.network;if("facebook"===t){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}if(this.optionsForNetwork[t]){const n=this.optionsForNetwork[t];this.optionsForNetwork[t]=null,e.error_message?n.error(e):n.success(e),n.complete()}}}),Object.assign(u,{instance:()=>(p||(p=new u),p)}),window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&u.instance().complete(e.data)}));const g=u;var x=n(584489),m=n(447186),_=n(301314),b=n(912397);function v(){}Object.assign(v.prototype,{handleConnect(e,t,n,s){if(t&&!m.Z.isLimitedLogin()){const r={success:function(i){const s={network:e,data:i};this._internalConnectNetwork(t,s,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?r.windowOptions="width=600,height=800":"instagram"===e?r.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?r.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(r.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,r,s)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){const e={user_id:m.Z.get("id"),username:m.Z.get("username"),field_set_key:"social_connect"};x.Z.instance.dispatch((0,_.jB)("UserResource",e));s.ZP.create("UserResource",e).callGet().then((e=>{var t;const n=null===(t=e.resource_response)||void 0===t?void 0:t.data;m.Z.set(n)}))},_externalConnectNetwork(e,t,n,i){t?g.instance().connect(e,n,i):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=s.ZP.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then((e=>{this.updateConnectStatus(),n.success&&n.success(e)}),(e=>{n.error&&e instanceof Object&&n.error(e)})).finally((()=>{n.complete&&n.complete()}))},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case b.vq:t="UserFacebookFriendsResource";break;case b.Ib:t="UserTwitterFriendsResource";break;case b.Tr:t="UserGmailFriendsResource";break;case b.lA:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const r=s.ZP.create(i,n);r.callGet({showError:!1}).then((()=>{const e=t.success;e&&e(r)}),(n=>{if(110===n.api_error_code)d.Z.setTimeout((()=>{this.pollForFriends(e,t)}),1e3);else{const e=t.error;e&&e()}}))}});let f=null;v.instance=function(){return f||(f=new v),f};const j=v},818270:(e,t,n)=>{n.d(t,{B:()=>s,$:()=>r});var i=n(762803);const{Provider:s,useHook:r}=(0,i.Z)("SurfaceContext",{surface:"Unknown"})},549742:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(304966),s=n(255539),r=n(785893);function a(e){return t=>{const n=(0,i.Z)();return(0,r.jsx)(s.Z,{ref:t.shareButtonRef,Subject:e,logContextEvent:n,...t})}}},255539:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),s=n(892575),r=n(204891),a=n(451190),o=n(237574),l=n(104216),c=n(883119),d=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=new c.Ry(1),p=({children:e})=>e((0,l.Z)({shouldStopEventPropagation:!1}));class g extends i.Component{constructor(...e){super(...e),h(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),h(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),h(this,"flyoutProps",(()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:a,board:l,sendType:c,url:h,fullName:u,profileUrl:p,viewParameter:g,viewType:x,onExternalSend:m,showCaret:_,todayArticle:b}=this.props;let v={description:e,id:i,imageUrl:n,name:"",type:o.d.PIN,url:`/pin/${i}/`},f=o.d.PIN;switch(c){case"user":v={description:e,id:a,imageUrl:n,name:u,type:o.d.PINNER,url:p},f=o.d.USER;break;case"board":v=l&&{description:l.description,id:l.id,imageUrl:l.imageUrl,name:l.name,type:o.d.BOARD,url:l.url},f=o.d.BOARD;break;case"today_article":v=b&&{description:b.subtitle||"",id:b.id,imageUrl:n,name:b.title,type:o.d.TODAY_ARTICLE,url:(0,r.bz)(b)},f=o.d.TODAY_ARTICLE;break;case"search":v={...v,type:o.d.SEARCH,url:h},f=o.d.SEARCH}const j={isFlyout:!0,onHide:this.onHide,onExternalSend:m,sendType:f,sharedObject:v,viewParameter:g,viewType:x};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:_,children:(0,d.jsx)(s.default,{...j})}}))}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:n,userId:i,logContextEvent:s}=this.props;"user"===n&&s({event_type:101,component:13675,element:1079,object_id_str:i,view_type:4,view_parameter:e?3106:3107}),t()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i,shownWithinProfileHeader:s}=this.props,{anchor:r,idealDirection:o,onDismiss:l,showCaret:h,children:g}=this.flyoutProps();return(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,d.jsx)(c.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},children:(0,d.jsx)(p,{children:t=>(0,d.jsx)(e,{handleSendShareFlyoutButtonClick:t((e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()})),...this.props})})}),n&&(i||s?(0,d.jsx)(c.mh,{zIndex:s?u:void 0,children:(0,d.jsx)(c.xu,{zIndex:t?a.b:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,d.jsx)(c.J2,{anchor:r,idealDirection:o,onDismiss:l,showCaret:h,size:"xl",positionRelativeToAnchor:!1,children:g})})}):(0,d.jsx)(c.J2,{anchor:r,idealDirection:o,onDismiss:l,showCaret:h,size:"xl",children:g}))]})}}h(g,"defaultProps",{idealDirection:"down",onClick:()=>{}})},11200:(e,t,n)=>{n.d(t,{j:()=>l,Z:()=>c});var i=n(174523),s=n(883119),r=n(181307),a=n(946753),o=n(785893);const l=[0,2,3];function c({hasAffiliateProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:c,textWeight:d}){const h=(0,i.ZP)(),u=(0,r.tc)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let p;t?p=(0,a.nk)(h._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:n}):c||0===c?p=n&&!l.includes(c)?(0,a.nk)(h._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:n}):h._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):e&&(p=h._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));const g=u&&!t?"Ad â€¢ ":"";return(0,o.jsxs)(s.xv,{inline:!0,size:"md",weight:d,children:[g,p]})}},233495:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(773559),s=n(641483);const r={scope:"profile email",client_id:i.Z.settings.GPLUS_CLIENT_ID,app_package_name:i.Z.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},a=e=>((0,s.My)("unauth_web.gapi_auth2_load.success"),e()),o=e=>{(0,s.My)(`unauth_web.init_google.sdk.${e}`)},l=(e=r)=>new Promise(((t,n)=>{o("start"),window.gapi.auth2?(o("exists"),window.gapi.auth2.init(e).then((()=>a(t)))):(o("load"),window.gapi.load("auth2",{callback:()=>{o("load_success"),window.gapi.auth2.init(e).then((()=>a(t)))},onerror:()=>{o("load_error"),n()},timeout:15e3,ontimeout:()=>{o("load_timeout"),n()}}))}))},686723:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var i=n(667294),s=n(294386),r=n(845555),a=n(504534),o=n(881220),l=n(174523),c=n(382745),d=n(181307),h=n(855168),u=n(880841),p=n(659048),g=n(883119),x=n(785893);function m({iconColor:e,iconSize:t,backgroundColor:n,marginEnd:m,isCloseupActionBar:_,sharedObject:b}){const v=(0,l.ZP)(),f=(0,u.F9)(),[j,y]=(0,i.useState)(""),[w,C]=(0,i.useState)(!1),[S,k]=(0,i.useState)(!1),L=(0,h.TH)(),I=v._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"),P=e=>{_?navigator.clipboard.writeText(e).then((()=>{var e;e=v._("Copied link to your clipboard to share","web.unauth.pinbar.copylink","Message to indicate link has been copied"),f.showToast((({onHide:t})=>(0,x.jsx)(g.xu,{top:!0,children:(0,x.jsx)(o.ZP,{duration:3e3,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{k(!0),setTimeout((()=>{k(!1)}),3e3)}))},E=async()=>{if(j)return void P(j);C(!0);const e={invite_category:3,invite_channel:12,object_type:b.type,object_id:b.id,name:b.name,description:b.description||"",path:b.url,picture:b.imageUrl};p.Z.createShareInviteData(e).then((t=>{const{invite_url:n}=t;C(!1),n&&(y(n),p.Z.logShareInvite(e,t),P(n))}))},Z=()=>{E()},O=(0,d.tc)("web_copy_link_btn_replace");return(0,c.am)(L)&&_&&O().anyEnabled?(0,x.jsx)(g.xu,{marginStart:1,children:(0,x.jsx)(g.zx,{accessibilityLabel:v._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard"),text:v._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard"),onClick:()=>Z(),size:"lg",color:"gray",fullWidth:!0})}):(0,x.jsxs)(a.Z,{iconSize:t,marginEnd:m||!1,children:[(0,x.jsx)(g.xu,{alignItems:_?"center":"stretch",display:_?"flex":"block",width:_?"100%":"auto",children:(0,x.jsx)(g.iP,{disabled:w,onTap:()=>Z(),children:(0,x.jsx)(g.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,x.jsx)(s.Z,{backgroundColor:n,iconColor:e,size:t})})})}),!_&&(0,x.jsx)(r.Z,{text:S?I:v._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})}},373600:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(731164),s=n(311866),r=n(174523),a=n(457175),o=n(883119),l=n(785893);function c(e){const{logContextEvent:t}=(0,a.v)(),n=(0,r.ZP)(),{identifier:c,onUndoHide:d,isGroupChat:h}=e,u=async()=>{const n=s.ZP.create("ShareSuggestionsHideResource",{user_identifier:c});await n.callDelete(),d(),(()=>{const{component:n,element:s}=e;t({event_type:101,component:n,element:s}),i.Z.increment("web_contacts.suggestions.undo_hide",1,{surface:n})})()};return(0,l.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(o.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"80%",children:(0,l.jsx)(o.xv,{inline:!0,color:"gray",children:h?n._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):n._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),(0,l.jsx)(o.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:(0,l.jsx)(o.zx,{onClick:({event:e})=>{e.stopPropagation(),u()},text:n._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button"})})]})}},617629:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(731164),s=n(311866),r=n(174523),a=n(883119),o=n(457175),l=n(785893);function c(e){const{logContextEvent:t}=(0,o.v)(),n=(0,r.ZP)(),{identifier:c,onHide:d}=e,h=()=>{s.ZP.create("ShareSuggestionsHideResource",{user_identifier:c}).callCreate().then((()=>{d(),(()=>{const{component:n,element:s}=e;t({event_type:101,component:n,element:s}),i.Z.increment("web_contacts.suggestions.hide",1,{surface:n})})()}))};return(0,l.jsx)(a.hU,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),h()},accessibilityLabel:n._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},252688:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(785893);function s({size:e,iconColor:t,backgroundColor:n,grayscale:s=!1}){const r=t||(s?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return(0,i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),(0,i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:r,fillRule:"nonzero",children:(0,i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},294386:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(785893);function s({size:e,iconColor:t,backgroundColor:n,grayscale:s=!1}){const r=t||(s?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:(0,i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{fill:a,cx:"18",cy:"18",r:"18"}),(0,i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:r,fillRule:"nonzero",children:(0,i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},892575:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ye});var i=n(667294),s=n(151101),r=n(883119),a=n(785893);const o=e=>{const{size:t,name:n,textLayout:i}=e,s=`calc(${Math.sin((o=45,o*(Math.PI/180)))} * (${t}) / 2)`;var o;const l=(0,a.jsx)(r.qE,{name:n?[...n][0].toUpperCase():""});switch(i){case"bottomLeft":return(0,a.jsx)(r.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:s,paddingRight:s}},children:l});case"topLeft":return(0,a.jsx)(r.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:s,paddingRight:s}},children:l});default:return(0,a.jsx)(r.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:l})}};function l(e){const{collaborators:t,outline:n=!1,size:i="fit"}=e,{colorGray0:s,colorGray100:l}=(0,r.tv)(),c="fit"===i?"100%":32,d="fit"===i?"":32,h=((e,t)=>{switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50% - 1px)",height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"topLeft"},{top:"calc(50% + 1px)",left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"bottomLeft"}]}})(t.length,c).map(((e,n)=>[e,t[n]]));return(0,a.jsxs)(r.xu,{color:"white",overflow:"hidden",rounding:"circle",width:c,height:d,position:"relative",dangerouslySetInlineStyle:{__style:{...n?{boxShadow:`0 0 0 2px ${s}`}:{},willChange:"transform"}},children:[(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),h.map((([e,t={name:"",src:void 0}],n)=>{const{width:i,height:s,top:c,left:d,textLayout:h}=e,{name:u,src:p}=t;return(0,a.jsxs)(r.xu,{position:"absolute",width:i,height:s,dangerouslySetInlineStyle:{__style:{top:c,left:d}},children:[null!=p?(0,a.jsx)(r.Ee,{alt:u,color:l,src:p,naturalWidth:1,naturalHeight:1,fit:"cover"}):(0,a.jsx)(o,{name:u,textLayout:h,size:s}),(0,a.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},n)}))]})}var c=n(34411),d=n(237574),h=n(174523);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{textValue:this.props.initialTextValue||""}),u(this,"handleSendMessage",(()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)})),u(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})}))}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,i=this.props.recipient||{},o="conversation_share_suggestion"===i.type,c=o?(i.users||[]).filter((e=>e.id!==n)):[];return(0,a.jsxs)(r.xu,{paddingX:4,width:360,children:[(0,a.jsxs)(r.xu,{alignItems:"center",display:"flex",paddingY:4,children:[(0,a.jsx)(r.xu,{height:48,paddingX:1,width:56,children:o?(0,a.jsx)(l,{collaborators:c.map((e=>({name:e.full_name||e.first_name,src:e.image_large_url})))}):(0,a.jsx)(s.Z,{name:i.full_name||i.email||" ",src:i.image_large_url})}),(0,a.jsxs)(r.xu,{flex:"grow",marginStart:1,children:[(0,a.jsx)(r.xv,{weight:"bold",children:o?c.map((e=>e.first_name||e.full_name)).join(", "):i.full_name||i.email}),(0,a.jsx)(r.xv,{color:"gray",size:"sm",children:o||i.username?i.username:this.props.i18n._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?(0,a.jsx)(r.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),(0,a.jsxs)(r.xu,{children:[(0,a.jsx)(r.xu,{paddingX:1,children:(0,a.jsx)(r.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),(0,a.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,a.jsx)(r.zx,{color:"red",onClick:this.handleSendMessage,size:"lg",text:this.props.i18n._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}function g(e){const t=(0,h.ZP)(),n=(0,c.Z)();return(0,a.jsx)(p,{...e,viewerId:n.isAuth?n.id:"",i18n:t})}var x=n(760620);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),m(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),m(this,"handleSendEmail",((e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}})),m(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),m(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return(0,a.jsxs)(r.xu,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[(0,a.jsxs)(r.xu,{display:"flex",alignItems:"center",paddingY:4,children:[(0,a.jsx)(r.xu,{flex:"grow",children:(0,a.jsx)(r.xv,{weight:"bold",children:this.props.i18n._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?(0,a.jsx)(r.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),(0,a.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,a.jsx)(r.xu,{paddingY:1,marginBottom:4,children:(0,a.jsx)(r.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),(0,a.jsx)(r.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),(0,a.jsx)(r.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,a.jsx)(r.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!(0,x.Z)(this.state.emailValue)})})]})]})}}function b(e){const t=(0,h.ZP)();return(0,a.jsx)(_,{...e,i18n:t})}var v=n(946753);function f({email:e,isValid:t,onClick:n,showSendEmailText:i}){const o=(0,h.ZP)(),l=t?o._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):o._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),c=i?(0,v.nk)(o._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):(0,v.nk)(o._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return(0,a.jsx)(r.xu,{marginBottom:4,children:(0,a.jsx)(r.iP,{onTap:()=>{t&&n()},children:(0,a.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(r.xu,{height:48,width:48,children:(0,a.jsx)(s.Z,{name:e})}),(0,a.jsxs)(r.xu,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[(0,a.jsx)(r.xv,{weight:"bold",size:"lg",children:c}),(0,a.jsx)(r.xv,{size:"sm",color:"gray",children:l})]})]})})})}var j=n(94236),y=n(373600),w=n(617629),C=n(549156);function S(e){const t=(0,h.ZP)(),{shouldShowViewChat:n,isSent:i,onClickSend:s,onViewConversation:o}=e;return(0,a.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:n?(0,a.jsx)(r.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),o()},children:(0,a.jsxs)(r.xu,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[(0,a.jsx)(r.xv,{color:"darkGray",size:"md",lineClamp:1,weight:"bold",children:t._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),(0,a.jsx)(r.xu,{marginStart:1,children:(0,a.jsx)(r.JO,{accessibilityLabel:t._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):(0,a.jsx)(C.Z,{id:i?"sharesheet-viewchat-link":"sharesheet-send-button",children:(0,a.jsx)(r.zx,{color:i?"gray":"red",disabled:i,onClick:s,size:"lg",text:i?t._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):t._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var k=n(457175);function L(e){var t,n,o;const{logContextEvent:d}=(0,k.v)(),{item:h,textFieldValue:u,onSendMessage:p,onShowSendDraft:g,onViewConversation:x,sentHistory:m}=e,[_,b]=(0,i.useState)(!1),[v,f]=(0,i.useState)(!1),[C,L]=(0,i.useState)(!1),I=h.id||"string"==typeof h.email&&h.email||"",P=I in m,E=""!==u,Z=null!==(t=m[I])&&void 0!==t?t:"",O=(0,c.Z)().id||"",T="conversation_share_suggestion"===h.type,F=T?(h.users||[]).filter((e=>e.id!==O)):[],D=h.debug_reason&&h.debug_reason.readable_reason;let A="";"string"!=typeof h.full_name||h.full_name.match(/^\s*$/)?"string"!=typeof h.email||h.email.match(/^\s*$/)||(A=h.email):A=h.full_name;return _?(0,a.jsx)(r.xu,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:(0,a.jsx)(y.Z,{identifier:null!==(n=h.id)&&void 0!==n?n:h.email,onUndoHide:()=>b(!1),component:13029,element:11918,isGroupChat:F.length>1})}):(0,a.jsxs)(r.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,a.jsx)(r.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),g(h)},children:(0,a.jsx)(r.Zb,{onMouseEnter:()=>{f(!(E||C&&P))},onMouseLeave:()=>f(!1),children:(0,a.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(r.xu,{height:48,width:48,children:T?(0,a.jsx)(l,{collaborators:F.map((e=>({name:e.full_name||e.first_name,src:e.image_medium_url})))}):(0,a.jsx)(s.Z,{accessibilityLabel:"",name:A,src:h.image_medium_url})}),(0,a.jsxs)(r.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"100%",children:[(0,a.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[(0,a.jsx)(r.xu,{marginBottom:1,children:(0,a.jsx)(r.xv,{color:"darkGray",lineClamp:1,weight:"bold",children:T?F.map((e=>e.first_name||e.full_name)).join(", "):A})}),E&&D?(0,a.jsx)(r.xv,{color:"gray",size:"sm",children:D}):"string"==typeof h.username&&(0,a.jsx)(r.xv,{color:"gray",size:"sm",children:h.username})]}),(0,a.jsxs)(r.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:[v&&(0,a.jsx)(r.xu,{display:"flex",marginEnd:2,children:(0,a.jsx)(w.Z,{identifier:null!==(o=h.id)&&void 0!==o?o:h.email,onHide:()=>b(!0),component:13029,element:11917})}),(0,a.jsx)(S,{shouldShowViewChat:P,isSent:C,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e;d({event_type:101,component:13029,element:u?1044:1039,aux_data:{entered_query:u,result_index:n+1,rs:null===(t=h.debug_reason)||void 0===t?void 0:t.reason}})})(),L(!0),p(h),f(!1)},onViewConversation:()=>x(Z)})]})]})]})})}),(0,a.jsx)(j.Z.Consumer,{children:e=>{var t;return e?(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:(0,a.jsx)(r.X6,{color:"blue",size:"sm",children:null===(t=h.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var I=n(535718),P=n(192830),E=n(463111);function Z(e){const{logContextEvent:t}=(0,k.v)(),n=(0,h.ZP)(),{onChange:s,onSendMessage:o,onShowSendDraft:l,onShowImportContacts:c,sentHistory:d,value:u,paddingX:p}=e,{resourceName:g,resourceOptions:m}=u?{resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{field_set_key:"default",term:u||"default"}}:{resourceName:"ShareSuggestionsResource",resourceOptions:{field_set_key:"default"}},{isLoaded:_}=(0,I.Z)({name:g,options:m,noCache:!0}),b=!u&&_,v=u&&_,{shareSuggestions:j}=(0,E.E)(),y=j[u]||[];(0,i.useEffect)((()=>{if(!u&&b){const e=y.length>0?7511:7512;t({event_type:e,component:56,view_type:70,view_parameter:256})}}),[b]);const{dropdownOpen:w,conversationOpen:C}=(0,P.Z5)(),S=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),C(t),w()},Z=y.map(((e,t)=>{const n=`${t}-${u?"search":"suggestion"}`,i={item:e,idx:t,onSendMessage:o,onShowSendDraft:l,onViewConversation:S,sentHistory:d,textFieldValue:u};return(0,a.jsx)(L,{...i},n)})),O=0===y.length&&(""===u&&!b||""!==u&&!v);return(0,a.jsxs)(r.xu,{children:[(0,a.jsx)(r.xu,{display:"flex",paddingX:p,position:"relative",children:(0,a.jsx)(r.xu,{"data-test-id":"sharesheet-search-user",width:"100%",children:(0,a.jsx)(r.Um,{accessibilityLabel:n._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:s,placeholder:n._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u})})}),(0,a.jsx)(r.xu,{height:185,marginBottom:4,marginTop:2,zIndex:new r.Ry(1e3),dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden"}},children:(0,a.jsxs)(r.xu,{paddingX:p,children:[(0,a.jsx)(r.xu,{paddingY:O?2:0,children:(0,a.jsx)(r.$j,{accessibilityLabel:n._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:O})}),(0,a.jsxs)(r.xu,{children:[Z,u&&(0,a.jsxs)(r.xu,{children:[(0,a.jsx)(r.Zb,{children:(0,a.jsx)(f,{email:u,isValid:(0,x.Z)(u),onClick:()=>l({email:u,full_name:u}),showSendEmailText:!1})}),!O&&(0,a.jsx)(r.xu,{width:"100%",children:(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.iP,{onTap:c,children:(0,a.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,a.jsx)(r.xu,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:(0,a.jsx)(r.JO,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),(0,a.jsx)(r.xu,{paddingX:3,children:(0,a.jsx)(r.xv,{weight:"bold",children:n._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})}var O=n(296882),T=n(686723),F=n(252688),D=n(230457),A=n(674245);function R({size:e=48,iconColor:t,backgroundColor:n,grayscale:i=!1}){const s=t||(i?"#333333":"#8E8E8E"),r=n||"#EFEFEF";return(0,a.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[(0,a.jsx)("circle",{fill:r,cx:"24",cy:"24",r:"24",stroke:"none"}),(0,a.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:s,children:[(0,a.jsx)("circle",{cx:"10",cy:"10",r:"6"}),(0,a.jsx)("circle",{cx:"17",cy:"3",r:"2"}),(0,a.jsx)("circle",{cx:"17",cy:"17",r:"2"}),(0,a.jsx)("circle",{cx:"19",cy:"10",r:"1"}),(0,a.jsx)("circle",{cx:"10",cy:"19",r:"1"}),(0,a.jsx)("circle",{cx:"1",cy:"10",r:"1"}),(0,a.jsx)("circle",{cx:"10",cy:"1",r:"1"}),(0,a.jsx)("circle",{cx:"3",cy:"17",r:"2"}),(0,a.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var B=n(845555),z=n(504534);function H({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:i,backgroundColor:s}){const o=(0,h.ZP)(),l=(0,c.Z)();return t&&[d.d.BOARD,d.d.PINNER,d.d.USER].includes(e.type)&&l.isAuth&&(e.id===l.id||l.isEmployee)?(0,a.jsxs)(z.Z,{iconSize:i,marginEnd:!0,children:[(0,a.jsx)(r.iP,{fullWidth:!1,onTap:t,children:(0,a.jsx)(R,{backgroundColor:s,iconColor:n,size:i})}),(0,a.jsx)(B.Z,{text:o._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var M=n(447186),U=n(855168),W=n(659048);const G="#EFEFEF",N="#333333";function V({size:e=48,grayscale:t=!1}){const n=t?N:"#FFFFFF",i=t?G:"#1877f2";return(0,a.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[(0,a.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),(0,a.jsxs)("g",{id:"surface1",children:[(0,a.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),(0,a.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function $({size:e=48,grayscale:t=!1}){const n=t?N:"#FFFFFF",i=t?G:"#0DC2FF";return(0,a.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsxs)("g",{id:"surface1",children:[(0,a.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,a.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function X({size:e=48,grayscale:t=!1}){const n=t?N:"#FFFFFF",i=t?G:"#25d366";return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:(0,a.jsxs)("g",{id:"surface1",children:[(0,a.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,a.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function Y({size:e=48,grayscale:t=!1}){const n=t?N:"#fff",i=t?G:"#00b900";return(0,a.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[(0,a.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),(0,a.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[(0,a.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),(0,a.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),(0,a.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,a.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,a.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}function K({size:e=48,grayscale:t=!1}){const n=t?N:"#fff";return(0,a.jsxs)("svg",{viewBox:"0 0 800 800",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,children:[(0,a.jsx)("circle",{cx:"400",cy:"400",fill:"#ff4500",r:"400"}),(0,a.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M666.8 400c.08 5.48-.6 10.95-2.04 16.24s-3.62 10.36-6.48 15.04c-2.85 4.68-6.35 8.94-10.39 12.65s-8.58 6.83-13.49 9.27c.11 1.46.2 2.93.25 4.4a107.268 107.268 0 0 1 0 8.8c-.05 1.47-.14 2.94-.25 4.4 0 89.6-104.4 162.4-233.2 162.4S168 560.4 168 470.8c-.11-1.46-.2-2.93-.25-4.4a107.268 107.268 0 0 1 0-8.8c.05-1.47.14-2.94.25-4.4a58.438 58.438 0 0 1-31.85-37.28 58.41 58.41 0 0 1 7.8-48.42 58.354 58.354 0 0 1 41.93-25.4 58.4 58.4 0 0 1 46.52 15.5 286.795 286.795 0 0 1 35.89-20.71c12.45-6.02 25.32-11.14 38.51-15.3s26.67-7.35 40.32-9.56 27.45-3.42 41.28-3.63L418 169.6c.33-1.61.98-3.13 1.91-4.49.92-1.35 2.11-2.51 3.48-3.4 1.38-.89 2.92-1.5 4.54-1.8 1.61-.29 3.27-.26 4.87.09l98 19.6c9.89-16.99 30.65-24.27 48.98-17.19s28.81 26.43 24.71 45.65c-4.09 19.22-21.55 32.62-41.17 31.61-19.63-1.01-35.62-16.13-37.72-35.67L440 186l-26 124.8c13.66.29 27.29 1.57 40.77 3.82a284.358 284.358 0 0 1 77.8 24.86A284.412 284.412 0 0 1 568 360a58.345 58.345 0 0 1 29.4-15.21 58.361 58.361 0 0 1 32.95 3.21 58.384 58.384 0 0 1 25.91 20.61A58.384 58.384 0 0 1 666.8 400zm-396.96 55.31c2.02 4.85 4.96 9.26 8.68 12.97 3.71 3.72 8.12 6.66 12.97 8.68A40.049 40.049 0 0 0 306.8 480c16.18 0 30.76-9.75 36.96-24.69 6.19-14.95 2.76-32.15-8.68-43.59s-28.64-14.87-43.59-8.68c-14.94 6.2-24.69 20.78-24.69 36.96 0 5.25 1.03 10.45 3.04 15.31zm229.1 96.02c2.05-2 3.22-4.73 3.26-7.59.04-2.87-1.07-5.63-3.07-7.68s-4.73-3.22-7.59-3.26c-2.87-.04-5.63 1.07-7.94 2.8a131.06 131.06 0 0 1-19.04 11.35 131.53 131.53 0 0 1-20.68 7.99c-7.1 2.07-14.37 3.54-21.72 4.39-7.36.85-14.77 1.07-22.16.67-7.38.33-14.78.03-22.11-.89a129.01 129.01 0 0 1-21.64-4.6c-7.08-2.14-13.95-4.88-20.56-8.18s-12.93-7.16-18.89-11.53c-2.07-1.7-4.7-2.57-7.38-2.44s-5.21 1.26-7.11 3.15c-1.89 1.9-3.02 4.43-3.15 7.11s.74 5.31 2.44 7.38c7.03 5.3 14.5 9.98 22.33 14s16 7.35 24.4 9.97 17.01 4.51 25.74 5.66c8.73 1.14 17.54 1.53 26.33 1.17 8.79.36 17.6-.03 26.33-1.17A153.961 153.961 0 0 0 476.87 564c7.83-4.02 15.3-8.7 22.33-14zm-7.34-68.13c5.42.06 10.8-.99 15.81-3.07 5.01-2.09 9.54-5.17 13.32-9.06s6.72-8.51 8.66-13.58A39.882 39.882 0 0 0 532 441.6c0-16.18-9.75-30.76-24.69-36.96-14.95-6.19-32.15-2.76-43.59 8.68s-14.87 28.64-8.68 43.59c6.2 14.94 20.78 24.69 36.96 24.69z"})]})}var q=n(181307),J=n(880841),Q=n(382745);function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const te=48,ne="#111111",ie="#EFEFEF",se={backgroundColor:"#ffffff",border:"none",padding:0},re=new Set(["JP","TW","TH"]),ae=new Set(["US","UK","CA","AU","DE"]),oe=e=>{(0,A.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),D.Z)};class le extends i.Component{constructor(...e){super(...e),ee(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),ee(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(W.Z.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===d.d.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case d.d.BOARD:return this.props.i18n._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case d.d.PIN:return this.props.i18n._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case d.d.PINNER:return this.props.i18n._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);W.Z.createShareInviteData(e).then((e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,O.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!M.Z.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e?(this.openLineDialog(),t=952):"reddit"===e&&(this.openRedditDialog(),t=this.props.showRedditPinShare?12790:12791),this.props.onExternalSend&&this.props.onExternalSend(),this.props.logContextEvent({event_type:101,component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){oe((()=>{W.Z.shareFacebookInvite(this.getShareOptions(5))}))}openFbMessengerDialog(){oe((()=>{W.Z.shareFbMessengerInvite(this.getShareOptions(6))}))}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(W.Z.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){W.Z.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){W.Z.shareLineInvite(this.getShareOptions(8))}openRedditDialog(){W.Z.shareRedditInvite(this.getShareOptions(29))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t,showLineShare:n,showRedditPinShare:s,activateWebRedditPinShareExp:o,showRedditBoardShare:l,activateWebRedditBoardShareExp:c,i18n:d}=this.props;return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"around",children:[n&&(0,a.jsxs)(z.Z,{iconSize:te,marginEnd:!0,children:[(0,a.jsx)("button",{"aria-label":d._("Share on LINE","sharesheet.shareSocialBar.ShareLine","Button that will share via Line"),onClick:()=>this.handleSocialShareClick("line"),style:se,children:(0,a.jsx)(Y,{size:48})}),(0,a.jsx)(B.Z,{text:d._("LINE","sharesheet.shareSocialBar.ShareLineLabel","Line button label")})]}),(0,a.jsxs)(z.Z,{iconSize:te,marginEnd:!0,children:[(0,a.jsx)("button",{"aria-label":d._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:se,tabIndex:"-1",children:(0,a.jsx)(r.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,a.jsx)(X,{size:te})})}),(0,a.jsx)(B.Z,{text:d._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),(0,a.jsxs)(z.Z,{iconSize:te,marginEnd:!0,children:[(0,a.jsx)("button",{"aria-label":d._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:se,children:(0,a.jsx)(V,{size:te})}),(0,a.jsx)(B.Z,{text:d._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),(0,a.jsxs)(z.Z,{iconSize:te,marginEnd:!n,children:[(0,a.jsx)("button",{"aria-label":d._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:se,"data-test-id":"twitter-share-icon",children:(0,a.jsx)($,{size:te})}),(0,a.jsx)(B.Z,{text:d._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),!n&&(0,a.jsx)(z.Z,{iconSize:te,marginEnd:!1,children:this.renderEmail()})]}),(0,a.jsxs)(r.xu,{display:"flex",paddingY:4,children:[(s&&o().anyEnabled||l&&c().anyEnabled)&&(0,a.jsxs)(z.Z,{iconSize:te,marginEnd:!0,children:[(0,a.jsx)("button",{"aria-label":d._("Reddit","sharesheet.shareSocialBar.ShareReddit","Button that will share via Reddit"),onClick:()=>this.handleSocialShareClick("reddit"),style:se,children:(0,a.jsx)(K,{size:te})}),(0,a.jsx)(B.Z,{text:d._("Reddit","sharesheet.shareSocialBar.ShareRedditLabel","Reddit button label")})]}),(0,a.jsx)(H,{backgroundColor:ie,iconColor:ne,iconSize:te,onCreatePincodeClick:t,sharedObject:e}),(0,a.jsx)(T.default,{sharedObject:e,backgroundColor:ie,iconColor:ne,iconSize:te,marginEnd:n,isCloseupActionBar:!1},"copylink"),n&&this.renderEmail()]})]})}renderEmail(){return(0,a.jsxs)(z.Z,{iconSize:te,marginEnd:!0,children:[(0,a.jsx)(r.xu,{display:"inlineBlock",children:(0,a.jsx)("button",{"aria-label":this.props.i18n._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:se,children:(0,a.jsx)(F.Z,{backgroundColor:ie,iconColor:ne,size:te})})}),(0,a.jsx)(B.Z,{text:this.props.i18n._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return(0,a.jsxs)(r.xu,{paddingX:t,children:[(0,a.jsx)(r.kC,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:(0,a.jsx)(r.xv,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),(0,a.jsx)(r.xu,{paddingX:2,children:this.renderShareOptions()})]})}}function ce(e){const{logContextEvent:t}=(0,k.v)(),n=(0,h.ZP)(),i=(0,c.Z)(),s=(0,U.TH)(),r=i.isAuth&&re.has(i.country),o=i.isAuth&&ae.has(i.country),l=o&&(0,Q.uM)(s),d=(0,q.tc)("web_auth_pin_reddit_share"),u=o&&(0,Q.am)(s),p=(0,q.tc)("web_auth_board_reddit_share");return(0,a.jsx)(le,{...e,toastManagerContext:(0,J.F9)(),viewer:(0,c.Z)(),showLineShare:r,i18n:n,showRedditPinShare:l,showRedditBoardShare:u,activateWebRedditPinShareExp:d,activateWebRedditBoardShareExp:p,logContextEvent:t})}var de=n(731164),he=n(311866),ue=n(881220);function pe(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var ge=n(818270);const xe=(e,t)=>{const n={};return e.forEach((e=>{n[e]=t})),n};function me(e){const{logContextEvent:t}=(0,k.v)(),n=(0,h.ZP)(),[s,o]=(0,i.useState)(!1),[l,u]=(0,i.useState)(null),[p,x]=(0,i.useState)({}),[m,_]=(0,i.useState)(""),[v]=(0,i.useState)(((e,t)=>"today_article"===e?t._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType,n)),{showOneToast:f}=(0,J.F9)(),{surface:j}=(0,ge.$)(),y=(0,c.Z)(),{conversationCreate:w}=(0,P.Z5)(),C=(0,P.NG)(),S=(n,i)=>{o(!1),e.onMessageSent(),((n,i)=>{const{sharedObject:s}=e,r=s.id;de.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:r,aux_data:{conversation_id:n,pin_id:i}})})(n,i)},L=e=>{de.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&f((({onHide:e})=>(0,a.jsx)(ue.ZP,{variant:"error",duration:5e3,onHide:e,text:t})))},I=async(t,n,i)=>{const{sharedObject:s,sendType:r}=e,a=s.id,o={emails:n,user_ids:t,text:i,source:pe(j)};o[r]=a;const l=he.ZP.create("ConversationsResource",o);try{const e=await l.callCreate(),i=e&&e.resource_response.data;w(i),S(i.id,"pin"===r?a:null),t.length>0?x({...p,...xe(t,i.id)}):x({...p,...xe(n,i.id)})}catch(c){L(c)}},E=(n,i)=>{"conversation_share_suggestion"===n.type?((t,n,i)=>{const{sharedObject:s,sendType:r}=e;let a;switch(r){case"pin":a="pinId";break;case"board":a="boardId";break;case"did_it":a="didItId";break;case"user":case"pinner":a="userId"}const o=a?C(t,{text:n,[a]:s.id,source:pe(j)},void 0,y):void 0;o&&o.then((()=>{S(t,"pin"===r?s.id:null),x({...p,[t]:t})})).catch((e=>{L(e)}))})(n.id,i):"contact_share_suggestion"!==n.type&&"user_share_suggestion"!==n.type&&"user"!==n.type||!n.username?I([],[n.email],i):I([n.id],[],i),t({event_type:101,component:56,element:276})},O=(t,n)=>{e.sendType!==d.d.SEARCH||n?E(t,n):he.ZP.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e))).then((e=>{const n=e.message;E(t,n)}))},T=()=>{o(!1),u(null)},{onCreatePincodeClick:F,onShowImport:D,sendType:A,sharedObject:R,isFlyout:B,onHide:z,onExternalSend:H}=e,M="email"===l?(0,a.jsx)(b,{initialTextValue:v,isFlyout:B,objectId:R.id,objectType:A,onCancelDraft:T,onHide:z,onSendMessage:O}):(0,a.jsx)(g,{initialTextValue:v,isFlyout:B,objectId:R.id,objectType:A,onCancelDraft:T,onHide:z,onSendMessage:O,recipient:"object"==typeof l?l:void 0});return s?M:(0,a.jsxs)(r.xu,{color:"white",children:[(0,a.jsx)(ce,{onCreatePincodeClick:F,onEmailIconClick:()=>{o(!0),u("email")},onExternalSend:H,onHide:z,paddingX:4,sharedObject:R}),(0,a.jsx)(r.xu,{children:(0,a.jsx)(Z,{isFlyout:B,onChange:({value:e})=>{_(e),t({event_type:4113,component:13029,element:1043})},onHide:z,onSendMessage:O,onShowImportContacts:D,onShowSendDraft:e=>{o(!0),u(e),_("")},paddingX:4,sentHistory:p,value:m})})]})}var _e=n(525974);const be=["facebook","google"];function ve(e,t){return"facebook"===e?t._("Facebook"," - "," -- "):"google"===e?t._("Google"," - "," -- "):t._("Other"," - "," -- ")}function fe(e,t,n){return"facebook"===e?n._("Friends who are on Pinterest"," - "," -- "):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function je({onBack:e}){const t=(0,h.ZP)(),n=(0,c.Z)(),i=n.isAuth?n.email:null,s=be.filter((e=>!n.isAuth||!1===n.socialNetwork[e].connected));return(0,a.jsx)(r.xu,{paddingX:1,paddingY:2,children:(0,a.jsxs)(r.kC,{gap:2,direction:"column",children:[(0,a.jsxs)(r.kC,{gap:2,alignItems:"center",children:[(0,a.jsx)(r.hU,{accessibilityLabel:t._("Back"," - "," -- "),icon:"arrow-back",iconColor:"darkGray",onClick:e}),(0,a.jsx)(r.xv,{size:"lg",weight:"bold",children:t._("Upload contacts from..."," - "," -- ")})]}),(0,a.jsx)(r.kC,{direction:"column",gap:4,children:s.map((e=>(0,a.jsx)(r.xu,{paddingX:2,children:(0,a.jsxs)(r.iP,{onTap:()=>function(e,t){_e.Z.instance().handleConnect(e,!0,{},t)}(e,t),children:[(0,a.jsx)(r.xv,{size:"md",children:ve(e,t)}),(0,a.jsx)(r.xv,{size:"md",children:fe(e,i,t)})]})},e)))})]})})}function ye({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:s,onHide:o,sendType:l,sharedObject:c,viewType:d,viewParameter:h}){const{logContextEvent:u}=(0,k.v)(),[p,g]=(0,i.useState)(!1),[x,m]=(0,i.useState)(!1);(0,i.useEffect)((()=>(u({event_type:7120,object_id_str:c.id,view_type:d,view_parameter:h}),()=>{u({event_type:7121,object_id_str:c.id,view_type:d,view_parameter:h});u({event_type:x?7493:7492,view_type:d,view_parameter:h})})),[]);const _=()=>{g(!0)},b=()=>{g(!1)},v=()=>{m(!0)};return p?(()=>{const e=t?"SendObjectBase sendShare":"";return(0,a.jsx)("div",{className:e,children:(0,a.jsx)(je,{onBack:b})})})():(0,a.jsx)(r.xu,{overflow:"hidden",children:(0,a.jsx)(me,{isFlyout:t,onCreatePincodeClick:n,onHide:o,onShowImport:_,onMessageSent:v,onExternalSend:s,sendType:l,sharedObject:c})})}},845555:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(988089),s=n(883119),r=n(785893);const a=({text:e})=>(0,r.jsx)(s.xv,{align:"center",size:"sm",children:(0,r.jsx)(i.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},504534:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),s=n(785893);const r=({iconSize:e,marginEnd:t,children:n})=>(0,s.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n})},94236:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)(!1)},153155:(e,t,n)=>{n.d(t,{W:()=>s,Y:()=>r});var i=n(311866);function s(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function r(e){return t=>i.ZP.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then((e=>{var n;const i=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(s(i.save_behavior))}))}},674245:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(384832),s=n(311866),r=n(773559),a=n(641483),o=n(658551);let l=!1;const c=(e,t,n="en-US",d)=>{d&&(0,a.dy)({event:"load_script_start",provider:"facebook"}),(0,o.c5)((0,i.Z)(n),o.Jg.FACEBOOK).then((()=>{d&&(0,a.dy)({event:"load_script_success",provider:"facebook"});const n=window.FB;n?(l||(d&&(0,a.dy)({event:"initialize_library",provider:"facebook"}),n.init({appId:r.Z.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(()=>{t()&&c((e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){s.ZP.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}),t)})),l=!0,window.fb_init=2),e(n)):d&&(0,a.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=1},d=c},760620:(e,t,n)=>{n.d(t,{Z:()=>s});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,s=e=>i.test(e)},988089:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),s=n(883119),r=n(785893);class a extends i.Component{constructor(e){var t,n,s;super(e),s={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,this.ref=(0,i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const s=void 0===i.textContent?"innerText":"textContent",r=i[s];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,448433)).then((({default:n})=>{n(i,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,a={maxWidth:e,maxHeight:t},o=n?{display:"inline",...a}:{...a};return i?(0,r.jsx)(s.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:o},ref:this.ref,children:this.props.children}):(0,r.jsx)(s.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:o},children:this.props.children})}}const o=a}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/72751-4cee8e5be5ca105b.mjs.map